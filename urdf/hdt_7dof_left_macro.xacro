<?xml version="1.0"?>
<robot name="hdt_7dof" xmlns:xacro="http://www.ros.org/wiki/xacro">

	<!-- default inertia -->
	<xacro:macro name="default_inertia">
		<inertia
		ixx="0.0005" ixy="0.0" ixz="0.0"
		iyy="0.0005" iyz="0.0"
		izz="0.0005"/>
	</xacro:macro>

	<xacro:macro name="hdt_7dof_left" params="parent x y z prefix">
		<!-- materials -->
		<material name="${prefix}green">
			<color rgba="0.2078431372549 0.36862745098039 0.23137254901961 1.0"/>
		</material>

		<material name="${prefix}black">
			<color rgba="0 0 0 1.0"/>
		</material>

		<material name="${prefix}grey">
			<color rgba="0.15686274509804 0.15686274509804 0.15686274509804 1.0"/>
		</material>

		<!-- shoulder-->
		<joint name="${prefix}shoulder_pitch" type="revolute">
			<hdt id="41" kmin="100" kmax="200" inertia="0.1"/>
			<axis xyz="0 1 0"/>
			<limit effort="60.0" lower="-3.1415926535898" upper="1.0471975511966" velocity="2.0944"/>
			<origin xyz="${x} ${y} ${z}" rpy="0 0 0"/>
			<parent link="${parent}"/>
			<child link="${prefix}shoulder"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran1">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}shoulder_pitch">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor1">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}shoulder">
			<collision>
				<origin xyz="-0 -0.1275 -1.4534" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ShoulderPitchLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0 -0.1275 -1.4534" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ShoulderPitchLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}green"/>
			</visual>
			<inertial>
				<origin xyz="0.000688524 0.082497455 -0.00011075299999996" rpy="0 0 0"/>
				<mass value="1.344398311"/>
				<inertia
				ixx="0.002733115" ixy="7.3154e-05" ixz="1.54e-07"
				iyy="0.001266362" iyz="-1.541e-06"
				izz="0.002795471"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}shoulder">
			<material>Gazebo/Green</material>
		</gazebo>

		<!-- shoulder roll -->
		<joint name="${prefix}shoulder_roll" type="revolute">
			<hdt id="42" kmin="100" kmax="200" inertia="0.1"/>
			<axis xyz="1 0 0"/>
			<limit effort="60.0" lower="-0.5235987755983" upper="3.1415926535898" velocity="2.0944"/>
			<origin xyz="0 0.163 0" rpy="0 0 0"/>
			<parent link="${prefix}shoulder"/>
			<child link="${prefix}shoulder_roll_link"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran2">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}shoulder_roll">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor2">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}shoulder_roll_link">
			<collision>
				<origin xyz="-0 -0.2905 -1.4534" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ShoulderRollLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0 -0.2905 -1.4534" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ShoulderRollLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}grey"/>
			</visual>
			<inertial>
				<origin xyz="-0.000157497 -6.628799999997e-05 -0.015018902" rpy="0 0 0"/>
				<mass value="0.709190454"/>
				<inertia
				ixx="0.000940092" ixy="-7e-09" ixz="-1.865e-06"
				iyy="0.000866608" iyz="2.817e-06"
				izz="0.000365724"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}shoulder_roll_link">
			<material>Gazebo/Grey</material>
		</gazebo>

		<!-- upper arm -->
		<joint name="${prefix}shoulder_yaw" type="revolute">
			<hdt id="43" kmin="75" kmax="150" inertia="0.075"/>
			<axis xyz="0 0 1"/>
			<limit effort="60.0" lower="-2.0943951023932" upper="2.0943951023932" velocity="2.0944"/>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<parent link="${prefix}shoulder_roll_link"/>
			<child link="${prefix}arm"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran3">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}shoulder_yaw">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor3">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}arm">
			<collision>
				<origin xyz="-0 -0.2905 -1.4534" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ShoulderYawLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0 -0.2905 -1.4534" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ShoulderYawLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}green"/>
			</visual>
			<inertial>
				<origin xyz="4e-09 0.00094170500000001 -0.209115474" rpy="0 0 0"/>
				<mass value="1.291829307"/>
				<inertia
				ixx="0.007190942" ixy="-1e-09" ixz="-0"
				iyy="0.007116565" iyz="-0.000130703"
				izz="0.000965322"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}arm">
			<material>Gazebo/Green</material>
		</gazebo>

		<!-- elbow pitch -->
		<joint name="${prefix}elbow_pitch" type="revolute">
			<hdt id="44" kmin="75" kmax="150" inertia="0.075"/>
			<axis xyz="0 1 0"/>
			<limit effort="60.0" lower="-3.6651914291881" upper="0.5235987755983" velocity="2.0944"/>
			<origin xyz="0 0 -0.3186" rpy="0 0 0"/>
			<parent link="${prefix}arm"/>
			<child link="${prefix}elbow_link"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran4">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}elbow_pitch">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor4">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}elbow_link">
			<collision>
				<origin xyz="-0 -0.2905 -1.1348" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ElbowLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0 -0.2905 -1.1348" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ElbowLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}grey"/>
			</visual>
			<inertial>
				<origin xyz="0.014760471 0.00015822900000001 -3.8344000000023e-05" rpy="0 0 0"/>
				<mass value="0.923870693"/>
				<inertia
				ixx="0.000477001" ixy="-2.405e-06" ixz="-4.205e-06"
				iyy="0.001214959" iyz="1.1e-08"
				izz="0.001118907"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}elbow_link">
			<material>Gazebo/Grey</material>
		</gazebo>

		<!-- forearm -->
		<joint name="${prefix}elbow_yaw" type="revolute">
			<hdt id="45" kmin="50" kmax="100" inertia="0.05"/>
			<axis xyz="1 0 0"/>
			<limit effort="60.0" lower="-2.0943951023932" upper="2.0943951023932" velocity="2.0944"/>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<parent link="${prefix}elbow_link"/>
			<child link="${prefix}forearm"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran5">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}elbow_yaw">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor5">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}forearm">
			<collision>
				<origin xyz="-0 -0.2905 -1.1348" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/WristYawLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0 -0.2905 -1.1348" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/WristYawLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}green"/>
			</visual>
			<inertial>
				<origin xyz="0.145307207 -0.00075732699999997 5.1295999999867e-05" rpy="0 0 0"/>
				<mass value="0.988541571"/>
				<inertia
				ixx="0.000942831" ixy="-3.4005e-05" ixz="2.35e-07"
				iyy="0.001534454" iyz="4.3e-07"
				izz="0.001587995"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}forearm">
			<material>Gazebo/Green</material>
		</gazebo>

		<!-- pitch roll -->
		<joint name="${prefix}wrist_pitch" type="revolute">
			<hdt id="46" kmin="50" kmax="100" inertia="0.05"/>
			<axis xyz="0 1 0"/>
			<limit effort="60.0" lower="-1.5707963267949" upper="1.5707963267949" velocity="2.0944"/>
			<origin xyz="0.2071 0 0" rpy="0 0 0"/>
			<parent link="${prefix}forearm"/>
			<child link="${prefix}foreforearm"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran6">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}wrist_pitch">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor6">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}foreforearm">
			<collision>
				<origin xyz="-0.2071 -0.2905 -1.1348" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/WristPitchRollLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0.2071 -0.2905 -1.1348" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/WristPitchRollLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}grey"/>
			</visual>
			<inertial>
				<origin xyz="0.037049556 -6.1067999999997e-05 9.8300999999967e-05" rpy="0 0 0"/>
				<mass value="1.121564951"/>
				<inertia
				ixx="0.000543674" ixy="4.334e-06" ixz="4.323e-06"
				iyy="0.002086265" iyz="-3.6e-08"
				izz="0.002086264"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}foreforearm">
			<material>Gazebo/Grey</material>
		</gazebo>

		<!-- palm -->
		<joint name="${prefix}wrist_roll" type="revolute">
			<hdt id="47" kmin="50" kmax="100" inertia="0.05"/>
			<axis xyz="0 0 1"/>
			<limit effort="60.0" lower="-1.5707963267949" upper="1.5707963267949" velocity="2.0944"/>
			<origin xyz="0.0741 0 0" rpy="0 0 0"/>
			<parent link="${prefix}foreforearm"/>
			<child link="${prefix}palm"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran7">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}wrist_roll">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor7">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}palm">
			<collision>
				<origin xyz="-0.2812 -0.2905 -1.1348" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/PalmLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0.2812 -0.2905 -1.1348" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/PalmLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}black"/>
			</visual>
			<inertial>
				<origin xyz="0.140761601 3.6379000000031e-05 -0.005353851" rpy="0 0 0"/>
				<mass value="1.198671739"/>
				<inertia
				ixx="0.001160448" ixy="-2.545e-06" ixz="0.000215416"
				iyy="0.003649101" iyz="-1.8e-07"
				izz="0.002994866"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}palm">
			<material>Gazebo/Black</material>
		</gazebo>

		<!--gripper frame -->
		<joint name="${prefix}gripper_frame_joint" type="fixed">
			<origin xyz="0.13 0 0" rpy="0 0 0" />
			<parent link="${prefix}palm" />
			<child link="${prefix}gripper_frame" />
		</joint>

		<link name="${prefix}gripper_frame" />

		<!-- thumb base -->
		<joint name="${prefix}thumb_yaw" type="revolute">
			<hdt id="50" kmin="5" kmax="20" inertia="0.01"/>
			<axis xyz="1 0 0"/>
			<limit effort="4.0" lower="-1.5707963267949" upper="1.5707963267949" velocity="4.1888"/>
			<origin xyz="0.135483 0 0.0153" rpy="0 0 0"/>
			<parent link="${prefix}palm"/>
			<child link="${prefix}thumb_base"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran10">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}thumb_yaw">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor10">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}thumb_base">
			<collision>
				<origin xyz="-0.416683 -0.2905 -1.1501" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ThumbMetacarpalLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0.416683 -0.2905 -1.1501" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ThumbMetacarpalLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}grey"/>
			</visual>
			<inertial>
				<origin xyz="-0.001059126 -4.4464999999994e-05 0.022091136" rpy="0 0 0"/>
				<mass value="0.180822173"/>
				<inertia
				ixx="7.244e-05" ixy="-9e-09" ixz="4.69e-07"
				iyy="6.6527e-05" iyz="-2.64e-07"
				izz="4.7191e-05"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}thumb_base">
			<material>Gazebo/Grey</material>
		</gazebo>

		<!-- thumb -->
		<joint name="${prefix}thumb_pitch" type="revolute">
			<hdt id="51" kmin="5" kmax="20" inertia="0.01"/>
			<axis xyz="0 1 0"/>
			<limit effort="4.0" lower="-0.78539816339745" upper="1.5707963267949" velocity="4.1888"/>
			<origin xyz="0 -0.002143 0.0573" rpy="0 0 0"/>
			<parent link="${prefix}thumb_base"/>
			<child link="${prefix}thumb_link"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran11">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}thumb_pitch">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor11">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}thumb_link">
			<collision>
				<origin xyz="-0.416683 -0.288357 -1.2074" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ThumbLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>

			<visual>
				<origin xyz="-0.416683 -0.288357 -1.2074" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/ThumbLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}grey"/>
			</visual>

			<inertial>
				<origin xyz="-0.00061939700000002 -1.6435999999953e-05 0.040811419" rpy="0 0 0"/>
				<mass value="0.090676982"/>
				<inertia
				ixx="7.8687e-05" ixy="-1.3e-08" ixz="6.19e-07"
				iyy="7.5823e-05" iyz="-6.9e-08"
				izz="9.743e-06"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}thumb_link">
			<material>Gazebo/Grey</material>
		</gazebo>

		<!-- index -->
		<joint name="${prefix}index" type="revolute">
			<hdt id="52" kmin="5" kmax="20" inertia="0.01"/>
			<axis xyz="0 0 1"/>
			<limit effort="4.0" lower="-1.5707963267949" upper="0.78539816339745" velocity="4.1888"/>
			<origin xyz="0.218498 0 0.027" rpy="0 0 0"/>
			<parent link="${prefix}palm"/>
			<child link="${prefix}index_link"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran12">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}index">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor12">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}index_link">
			<collision>
				<origin xyz="-0.499698 -0.2905 -1.1618" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/PointerLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0.499698 -0.2905 -1.1618" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/PointerLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}grey"/>
			</visual>
			<inertial>
				<origin xyz="0.259588919 0.00061939700000002 0.027059686" rpy="0 0 0"/>
				<mass value="0.090676982"/>
				<inertia
				ixx="9.743e-06" ixy="-6.19e-07" ixz="6.9e-08"
				iyy="7.8687e-05" iyz="-1.3e-08"
				izz="7.5823e-05"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}index_link">
			<material>Gazebo/Grey</material>
		</gazebo>

		<!-- ring -->
		<joint name="${prefix}ring" type="revolute">
			<hdt id="53" kmin="5" kmax="20" inertia="0.01"/>
			<axis xyz="0 0 1"/>
			<limit effort="4.0" lower="-1.5707963267949" upper="0.78539816339745" velocity="4.1888"/>
			<origin xyz="0.218498 0 -0.027" rpy="0 0 0"/>
			<parent link="${prefix}palm"/>
			<child link="${prefix}ring_link"/>
			<dynamics damping="0.7" friction="0.0"/>
		</joint>

		<transmission name="${prefix}tran13">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${prefix}ring">
				<hardwareInterface>EffortJointInterface</hardwareInterface>
			</joint>
			<actuator name="${prefix}motor13">
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>

		<link name="${prefix}ring_link">
			<collision>
				<origin xyz="-0.499698 -0.2905 -1.1078" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/RingLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
			</collision>
			<visual>
				<origin xyz="-0.499698 -0.2905 -1.1078" rpy="0 0 0"/>
				<geometry>
					<mesh filename="package://hdt_7dof_description/meshes/RingLeft.stl" scale="0.001 0.001 0.001"/>
				</geometry>
				<material name="${prefix}grey"/>
			</visual>
			<inertial>
				<origin xyz="0.041090919 0.00061939700000002 4.9186000000034e-05" rpy="0 0 0"/>
				<mass value="0.090676982"/>
				<inertia
				ixx="9.743e-06" ixy="-6.19e-07" ixz="6.9e-08"
				iyy="7.8687e-05" iyz="-1.3e-08"
				izz="7.5823e-05"/>
			</inertial>
		</link>
		<gazebo reference="${prefix}ring_link">
			<material>Gazebo/Grey</material>
		</gazebo>
	</xacro:macro>
</robot>


